<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#1a1a2e">
    <meta name="description" content="Tower Defense - Strateji Oyunu">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="TD Game">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="assets/images/icon-32.svg">
    <link rel="apple-touch-icon" href="assets/images/icon-192.svg">
    
    <title>Tower Defense</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div id="game-container">
        <canvas id="game-canvas"></canvas>
        
        <!-- Mobil Ä°sim GiriÅŸi (gizli input) -->
        <input type="text" id="mobile-name-input" 
               placeholder="Ä°sim gir..." 
               maxlength="15" 
               autocomplete="off"
               autocapitalize="off"
               autocorrect="off"
               spellcheck="false">
        
        <div id="ui-overlay">
            <!-- Ãœst Bilgi BarÄ± - Sadece oyun sÄ±rasÄ±nda -->
            <div id="top-bar" class="hidden">
                <span id="gold-display">ğŸ’° 150</span>
                <div id="center-info">
                    <span id="wave-display">ğŸ“¢ Wave: 0/15</span>
                    <button id="speed-btn" class="speed-btn speed-1x" title="HÄ±z (H)">1x</button>
                </div>
                <div id="right-controls">
                    <button id="sound-btn" class="sound-btn" title="Ses AyarÄ±">ğŸ”Š</button>
                    <span id="lives-display">â¤ï¸ 10</span>
                </div>
            </div>
            
            <!-- Ses Ayar MenÃ¼sÃ¼ -->
            <div id="sound-menu" class="hidden">
                <div class="sound-menu-title">ğŸ”Š Ses AyarlarÄ±</div>
                <div class="sound-row">
                    <span>Ses:</span>
                    <input type="range" id="volume-slider" min="0" max="100" value="15">
                    <span id="volume-value">15%</span>
                </div>
                <div class="sound-row">
                    <button id="mute-btn" class="mute-btn">ğŸ”‡ Sessize Al</button>
                </div>
            </div>
            
            <!-- Kule Paneli (baÅŸlangÄ±Ã§ta gizli) -->
            <div id="tower-panel" class="hidden">
                <div id="tower-toggle" title="Kule MenÃ¼sÃ¼ (T)">ğŸ°</div>
                <div id="tower-menu">
                    <div id="tower-menu-title">KULELER</div>
                    <div class="tower-option" data-tower="archer">
                        <span class="tower-icon">ğŸ¹</span>
                        <div class="tower-info">
                            <span class="tower-name">OkÃ§u</span>
                            <span class="tower-cost">ğŸ’° 50</span>
                        </div>
                    </div>
                    <div class="tower-option" data-tower="cannon">
                        <span class="tower-icon">ğŸ’£</span>
                        <div class="tower-info">
                            <span class="tower-name">Top</span>
                            <span class="tower-cost">ğŸ’° 100</span>
                        </div>
                    </div>
                    <div class="tower-option" data-tower="ice">
                        <span class="tower-icon">â„ï¸</span>
                        <div class="tower-info">
                            <span class="tower-name">Buz</span>
                            <span class="tower-cost">ğŸ’° 75</span>
                        </div>
                    </div>
                    <div class="tower-option" data-tower="fire" style="display:none;">
                        <span class="tower-icon">ğŸ”¥</span>
                        <div class="tower-info">
                            <span class="tower-name">AteÅŸ</span>
                            <span class="tower-cost">ğŸ’° 150</span>
                        </div>
                    </div>
                    <div class="tower-option" data-tower="wind" style="display:none;">
                        <span class="tower-icon">ğŸ’¨</span>
                        <div class="tower-info">
                            <span class="tower-name">RÃ¼zgar</span>
                            <span class="tower-cost">ğŸ’° 125</span>
                        </div>
                    </div>
                    <div class="tower-option" data-tower="earth" style="display:none;">
                        <span class="tower-icon">ğŸŒ</span>
                        <div class="tower-info">
                            <span class="tower-name">Toprak</span>
                            <span class="tower-cost">ğŸ’° 175</span>
                        </div>
                    </div>
                    <div class="tower-option" data-tower="tesla" style="display:none;">
                        <span class="tower-icon">âš¡</span>
                        <div class="tower-info">
                            <span class="tower-name">Tesla</span>
                            <span class="tower-cost">ğŸ’° 200</span>
                        </div>
                    </div>
                    <div class="menu-divider"></div>
                    <div class="start-wave-btn" id="start-wave-btn">
                        <span class="tower-icon">â–¶ï¸</span>
                        <div class="tower-info">
                            <span class="tower-name">BAÅLAT</span>
                            <span class="tower-cost">Space</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Onay MenÃ¼sÃ¼ (Yeni kule yerleÅŸtirme) -->
            <div id="confirm-menu" class="hidden">
                <button id="confirm-btn">âœ“ Onayla</button>
                <button id="cancel-btn">âœ— Ä°ptal</button>
            </div>
            
            <!-- Kule Bilgi/Upgrade MenÃ¼sÃ¼ -->
            <div id="tower-info-menu" class="hidden">
                <div id="tower-info-header">
                    <span id="tower-info-icon">ğŸ¹</span>
                    <div>
                        <span id="tower-info-name">OkÃ§u Kulesi</span>
                        <span id="tower-info-level">Lv.1</span>
                    </div>
                </div>
                <div id="tower-info-stats">
                    <div class="stat-row"><span>âš”ï¸ Hasar:</span><span id="stat-damage">10</span></div>
                    <div class="stat-row"><span>ğŸ¯ Menzil:</span><span id="stat-range">3.0</span></div>
                    <div class="stat-row"><span>â±ï¸ HÄ±z:</span><span id="stat-firerate">1.0s</span></div>
                </div>
                <div id="tower-info-buttons">
                    <button id="upgrade-btn" class="upgrade-btn">â¬†ï¸ YÃ¼kselt<br><span id="upgrade-cost">ğŸ’° 38</span></button>
                    <button id="sell-btn" class="sell-btn">ğŸ’° Sat<br><span id="sell-price">30</span></button>
                </div>
                <button id="close-info-btn">âœ• Kapat</button>
            </div>
            
            <!-- Ã–zel Yetenekler Ã‡ubuÄŸu -->
            <div id="abilities-bar">
                <div class="ability-btn" data-ability="meteor" title="Meteor (100ğŸ’°)">
                    <span class="ability-icon">â˜„ï¸</span>
                    <div class="ability-cooldown"></div>
                </div>
                <div class="ability-btn" data-ability="freeze" title="Dondurucu Dalga (75ğŸ’°)">
                    <span class="ability-icon">ğŸŒŠ</span>
                    <div class="ability-cooldown"></div>
                </div>
                <div class="ability-btn" data-ability="goldRush" title="AltÄ±n YaÄŸmuru (50ğŸ’°)">
                    <span class="ability-icon">ğŸ’</span>
                    <div class="ability-cooldown"></div>
                </div>
                <div class="ability-btn" data-ability="repair" title="Tamir (60ğŸ’°)">
                    <span class="ability-icon">ğŸ”§</span>
                    <div class="ability-cooldown"></div>
                </div>
            </div>
        </div>
        
        <!-- PWA Install Banner -->
        <div id="install-banner" class="hidden">
            <span>ğŸ“± UygulamayÄ± yÃ¼kle!</span>
            <button id="install-btn">YÃ¼kle</button>
            <button id="install-close">âœ•</button>
        </div>
    </div>

    <!-- JavaScript ModÃ¼lleri -->
    <script src="js/config.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/maps/maps.js"></script>
    <script src="js/systems/Grid.js"></script>
    <script src="js/systems/PlayerManager.js"></script>
    <script src="js/systems/SoundManager.js"></script>
    <script src="js/systems/ParticleSystem.js"></script>
    <script src="js/entities/Enemy.js"></script>
    <script src="js/entities/Tower.js"></script>
    <script src="js/entities/Projectile.js"></script>
    <script src="js/systems/WaveManager.js"></script>
    <script src="js/systems/Renderer.js"></script>
    <script src="js/systems/MenuManager.js"></script>
    <script src="js/systems/InputHandler.js"></script>
    <script src="js/Game.js"></script>
    <script src="js/main.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('SW registered:', reg.scope))
                    .catch(err => console.log('SW registration failed:', err));
            });
        }
    </script>
</body>
</html>
